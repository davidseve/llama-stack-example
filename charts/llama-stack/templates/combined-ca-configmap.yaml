{{- if .Values.providers.kubeflow.enabled }}
# Initial empty ConfigMap - will be populated by ca-bundle-job
# This ensures the deployment can start (won't fail with "configmap not found")
apiVersion: v1
kind: ConfigMap
metadata:
  name: combined-ca-bundle
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "llama-stack.labels" . | nindent 4 }}
  annotations:
    # This ConfigMap will be updated by the ca-bundle-job with actual CA certificates
    helm.sh/resource-policy: keep
data:
  # Placeholder - will be replaced by Job with actual combined CAs
  ca-bundle.crt: |
    # Placeholder - CA bundle will be injected by ca-bundle-job
{{- end }}
